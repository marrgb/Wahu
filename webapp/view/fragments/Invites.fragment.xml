<core:FragmentDefinition
    xmlns:l="sap.ui.layout"
	xmlns:f="sap.ui.layout.form"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns="sap.m">

    <Dialog id="dialog-invite" title="{i18n>InviteToTeam}" class="sapUiPopupWithPadding"  resizable="true" contentHeight="20rem" contentWidth="55rem">
        <content>
            <Table id="inviteTable" items="{path: 'Invite>/invites', sorter: { path: 'timestamp', descending: false}}" mode="None">
               
                <columns>
                    <Column id="inviteColumnAvatar" width="3rem"/>             
                    <Column id="inviteColumnEmail" width="20rem">
                        <Text id="InviteTableEmailText" text="{i18n>InviteEmail}" />
                    </Column>
                    <Column id="inviteColumnStatus" width="5rem">
                        <Text id="InviteTableStatusText" text="{i18n>InviteColumnStatusText}" />
                    </Column>

                    <Column id="inviteColumnTimestamp" width="5rem">
                        <Text id="InviteTableTimestampText" text="{i18n>InviteColumnTimestampText}" />
                    </Column>
                    <Column id="inviteColumnDeleteRow" width="10rem">
                        <Text id="InviteTableActionsText" text="{i18n>InviteColumnActionsText}" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem id="_CLIInviteEmail" type="Active">
                        <cells>
                            <Avatar id="_AIInviteAvatar" src="{Invite>avatar}" displaySize="XS" displayShape="Circle" />   
                            <ObjectIdentifier id="_OIIInviteName" title="{Invite>email}" />
                            <core:Icon
                                id="_TIInviteStatus"
                                src="{= ${Invite>status} === 'A' ? 'sap-icon://accept' : (${Invite>status} === 'B' ? 'sap-icon://decline' : 'sap-icon://pending') }"
                                color="{= ${Invite>status} === 'A' ? 'Positive' : (${Invite>status} === 'B' ? 'Negative' : 'Critical') }"
                                tooltip="{
                                    path: 'Invite>status',
                                    formatter: '.statusTooltip'
                                }"
                                />
                            <ObjectAttribute id="_OAIInviteDate" text="{
                                    path: 'Invite>timestamp',
                                    type: 'sap.ui.model.type.Date',
                                    formatOptions: {
                                        pattern: 'dd/MM/yy HH:mm'
                                    }
                                }" />
                            <Button id="_btnInviteDeleteRow" icon="sap-icon://cancel" type="Transparent" press="onDeleteInviteRow" tooltip="{i18n>InviteCancelBtnTooltip}"/>
                            
                        </cells>
                    </ColumnListItem>

                </items>
            
            </Table>
        </content>

        <footer>
			<Toolbar id="dialog-invitesTableTB-addPlayerTB">
				<content>
					<!-- <Button id="messagePopoverBtn"
						visible="{= !!${message>/}.length }"
						icon="{ path: '/', formatter: '.buttonIconFormatter' }"
						type="{ path: '/', formatter: '.buttonTypeFormatter' }"
						text="{ path: '/', formatter: '.highestSeverityMessages' }"
						press=".handleMessagePopoverPress"
						ariaHasPopup="Dialog" /> -->
					<ToolbarSpacer id="dialog-invitesTableTB-addPlayerTBSpacer"/>

                    <Button id="_btnInvitesAdd"
                            
							icon="sap-icon://add-contact"
							press="onAddInvite" />
					<Button id="_btnInvitesSave"
                            type="Accept"
							text="Save"
							press="onSendInvites" />
					<Button id="_btnRejectInvites"
						text="Reject"
						type="Reject"
						press="onRejectInvites"
						ariaHasPopup="Dialog" />
				</content>
			</Toolbar>
		</footer>

        <!-- <beginButton>
            <Button id="_btnInvitesSave" text="Save" press="onSendInvites" />
        </beginButton>-->

        <endButton>
            <Button id="_btnCloseInvites" text="Cancel" press="onCloseDialogSendInvites" />
        </endButton> 
    </Dialog>
</core:FragmentDefinition>